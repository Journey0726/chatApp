{"version":3,"sources":["webpack:///D:/HBuilderX/uniapp练习/yike项目/yike/uni_modules/lime-clipper/components/lime-clipper/index.vue?8024","webpack:///D:/HBuilderX/uniapp练习/yike项目/yike/uni_modules/lime-clipper/components/lime-clipper/index.vue?0388","webpack:///D:/HBuilderX/uniapp练习/yike项目/yike/uni_modules/lime-clipper/components/lime-clipper/index.vue?fb18","webpack:///D:/HBuilderX/uniapp练习/yike项目/yike/uni_modules/lime-clipper/components/lime-clipper/index.vue?a938","uni-app:///uni_modules/lime-clipper/components/lime-clipper/index.vue","webpack:///D:/HBuilderX/uniapp练习/yike项目/yike/uni_modules/lime-clipper/components/lime-clipper/index.vue?f127","webpack:///D:/HBuilderX/uniapp练习/yike项目/yike/uni_modules/lime-clipper/components/lime-clipper/index.vue?37a5"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACwC;;;AAG5F;AAC4K;AAC5K,gBAAgB,6KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,mBAAO,CAAC,4BAAoB;AACpC;AACA;AACA;AACA,QAAQ,mBAAO,CAAC,6BAAqB;AACrC;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACzBA;AAAA;AAAA;AAAA;AAA+oB,CAAgB,+mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACsDnqB,oD;AACA;AACA;AACA,mBAFA;AAGA;AACA;AACA,kBADA;AAEA,iBAFA,EADA;;AAKA;AACA,kBADA,EALA;;AAQA;AACA,kBADA;AAEA,gBAFA,EARA;;AAYA;AACA,kBADA;AAEA,kBAFA,EAZA;;AAgBA;AACA,kBADA;AAEA,kBAFA,EAhBA;;AAoBA;AACA,kBADA;AAEA,kBAFA,EApBA;;AAwBA;AACA,kBADA;AAEA,kBAFA,EAxBA;;AA4BA;AACA,kBADA;AAEA,kBAFA,EA5BA;;AAgCA;AACA,kBADA;AAEA,kBAFA,EAhCA;;AAoCA;AACA,mBADA;AAEA,oBAFA,EApCA;;AAwCA;AACA,mBADA;AAEA,oBAFA,EAxCA;;AA4CA;AACA,mBADA;AAEA,mBAFA,EA5CA;;AAgDA;AACA,kBADA;AAEA,gBAFA,EAhDA;;AAoDA;AACA,kBADA;AAEA,kBAFA,EApDA;;AAwDA;AACA,kBADA;AAEA,gBAFA,EAxDA;;AA4DA;AACA,mBADA;AAEA,oBAFA,EA5DA;;AAgEA;AACA,mBADA;AAEA,oBAFA,EAhEA;;AAoEA;AACA,mBADA;AAEA,oBAFA,EApEA;;AAwEA;AACA,mBADA;AAEA,mBAFA,EAxEA;;AA4EA;AACA,mBADA;AAEA,mBAFA,EA5EA;;AAgFA;AACA,mBADA;AAEA,mBAFA,EAhFA;;AAoFA;AACA,mBADA;AAEA,mBAFA,EApFA;;AAwFA;AACA,kBADA;AAEA,iBAFA,EAxFA;;AA4FA;AACA,kBADA;AAEA;AACA,yBADA;AAEA,sBAFA;;AAIA,2BAJA,IAFA,EA5FA,EAHA;;;;;AA0GA,MA1GA,kBA0GA;AACA;AACA,oBADA;AAEA,qBAFA;AAGA,aAHA;AAIA,aAJA;AAKA,wBALA;AAMA,0BANA;AAOA,kBAPA;AAQA,mBARA;AASA,yBATA;AAUA,mBAVA;AAWA,oBAXA;AAYA,iBAZA;AAaA,kBAbA;AAcA,cAdA;AAeA,cAfA;AAgBA,0BAhBA;AAiBA,iBAjBA;AAkBA,6BAlBA;AAmBA,4BAnBA;AAoBA,yBApBA;AAqBA,yBArBA;AAsBA,yBAtBA;AAuBA,kBAvBA;AAwBA,4BAxBA;AAyBA,qCAzBA;AA0BA,yBA1BA;AA2BA,eA3BA;;AA6BA,GAxIA;AAyIA;AACA,aADA,uBACA;AACA,eADA,GACA,IADA,CACA,SADA,CACA,UADA,GACA,IADA,CACA,UADA,CACA,IADA,GACA,IADA,CACA,IADA,CACA,IADA,GACA,IADA,CACA,IADA,CACA,YADA,GACA,IADA,CACA,YADA;AAEA;AACA,eADA;AAEA,gBAFA;AAGA,sCAHA;AAIA,UAJA;AAKA,UALA;;AAOA,KAVA;AAWA,cAXA,wBAWA;AACA,gBADA,GACA,IADA,CACA,UADA,CACA,WADA,GACA,IADA,CACA,WADA,CACA,SADA,GACA,IADA,CACA,SADA,CACA,QADA,GACA,IADA,CACA,QADA,CACA,YADA,GACA,IADA,CACA,YADA,CACA,KADA,GACA,IADA,CACA,KADA,CACA,KADA,GACA,IADA,CACA,KADA;AAEA;AACA,6CADA;AAEA,+CAFA;AAGA,gCAHA,iBAGA,0BAHA,0BAGA,KAHA,sBAGA,KAHA;AAIA,6BAJA;;AAMA,KAnBA;AAoBA,YApBA,sBAoBA;AACA,eADA,GACA,IADA,CACA,SADA,CACA,UADA,GACA,IADA,CACA,UADA;AAEA;AACA,KAvBA;AAwBA,YAxBA,sBAwBA;AACA,UADA,GACA,IADA,CACA,IADA,CACA,IADA,GACA,IADA,CACA,IADA;AAEA;AACA,KA3BA,EAzIA;;AAsKA;AACA;AACA;AACA,yCADA,iJADA;;AAIA,qBAJA,EADA;;AAOA,YAPA,0BAOA;AACA,cADA,GACA,IADA,CACA,QADA,CACA,SADA,GACA,IADA,CACA,SADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAlBA;AAmBA,SAnBA,iBAmBA,GAnBA,EAmBA;AACA;AACA,sBAFA;AAGA,iBAHA,GAGA,IAHA,CAGA,WAHA;AAIA;AACA;AACA,0CADA;;AAGA;AACA;AACA,KA7BA;AA8BA,gBA9BA,wBA8BA,GA9BA,EA8BA;AACA;AACA;AACA;AACA;AACA,+BADA;;AAGA,SAJA,EAIA,GAJA;AAKA;AACA;AACA;AACA,KAzCA;AA0CA,eA1CA,uBA0CA,GA1CA,EA0CA;AACA;AACA;AACA;AACA,mDADA;;AAGA;AACA;AACA;AACA,KAnDA;AAoDA,YApDA,sBAoDA;AACA;AACA,KAtDA;AAuDA,UAvDA,kBAuDA,KAvDA,EAuDA,MAvDA,EAuDA;AACA;AACA;AACA,8BADA;;AAGA;AACA,KA7DA;AA8DA,WA9DA,mBA8DA,MA9DA,EA8DA,OA9DA,EA8DA;AACA;AACA;AACA,gCADA;;AAGA;AACA,KApEA,EAtKA;;AA4OA,SA5OA,qBA4OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAnPA;AAoPA;AACA,eADA,uBACA,IADA,EACA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA,KAPA;AAQA,gBARA,wBAQA,GARA,EAQA;AACA;AACA;AACA,uBADA;AAEA,kBAFA;;AAIA;AACA,gBADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SATA;AAUA;AACA;AACA;AACA;AACA;AACA,SAfA;;AAiBA,KA/BA;AAgCA,cAhCA,wBAgCA;AACA,YADA,GACA,IADA,CACA,MADA,CACA,OADA,GACA,IADA,CACA,OADA,CACA,OADA,GACA,IADA,CACA,OADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAjDA;AAkDA,gBAlDA,0BAkDA;AACA,aADA,GACA,IADA,CACA,OADA,CACA,UADA,GACA,IADA,CACA,UADA,CACA,SADA,GACA,IADA,CACA,SADA,CACA,QADA,GACA,IADA,CACA,QADA,CACA,SADA,GACA,IADA,CACA,SADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA3DA;AA4DA,kBA5DA,4BA4DA;AACA,gBADA,GACA,IADA,CACA,UADA,CACA,SADA,GACA,IADA,CACA,SADA,CACA,OADA,GACA,IADA,CACA,OADA,CACA,IADA,GACA,IADA,CACA,IADA,CACA,IADA,GACA,IADA,CACA,IADA;AAEA;AACA;AACA,wCADA;;AAGA,OAJA,MAIA;AACA;AACA,0CADA;;AAGA;AACA;AACA;AACA,0CADA;;AAGA,OAJA,MAIA;AACA;AACA;AACA,2CADA;;AAGA;AACA,KAjFA;AAkFA,wBAlFA,kCAkFA;AACA,UADA,GACA,IADA,CACA,IADA,CACA,IADA,GACA,IADA,CACA,IADA,CACA,OADA,GACA,IADA,CACA,OADA,CACA,UADA,GACA,IADA,CACA,UADA,CACA,SADA,GACA,IADA,CACA,SADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAPA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAfA;AAgBA;AACA;AACA;AACA;AACA,uBADA;AAEA,uBAFA;;AAIA,OAPA,MAOA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA,qDADA;;AAGA,OALA,MAKA;AACA;AACA;AACA,uDADA;;AAGA;AACA,KAzHA;AA0HA,kBA1HA,0BA0HA,KA1HA,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","file":"uni_modules/lime-clipper/components/lime-clipper/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=6fee203c&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=6fee203c&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6fee203c\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/lime-clipper/components/lime-clipper/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=6fee203c&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 =\n    _vm.isShowPhotoBtn && !_vm.$slots.photo\n      ? require(\"./images/photo.svg\")\n      : null\n  var m1 =\n    _vm.isShowRotateBtn && !_vm.$slots.rotate\n      ? require(\"./images/rotate.svg\")\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"l-clipper\" disable-scroll :style=\"'z-index: ' + zIndex\">\n\t\t<view \n\t\t\tclass=\"l-clipper-mask\" \n\t\t\t@touchstart.stop.prevent=\"clipTouchStart\" \n\t\t\t@touchmove.stop.prevent=\"clipTouchMove\" \n\t\t\t@touchend.stop.prevent=\"clipTouchEnd\">\n\t\t\t<view class=\"l-clipper__content\" :style=\"clipStyle\">\n\t\t\t\t<view class=\"l-clipper__edge\" v-for=\"(item, index) in [0,0,0,0]\" :key=\"index\"></view>\n\t\t\t</view>\n\t\t</view>\n\t\t<image\n\t\t\tclass=\"l-clipper-image\"\n\t\t\t@error=\"imageLoad\"\n\t\t\t@load=\"imageLoad\"\n\t\t\t@touchstart.stop.prevent=\"imageTouchStart\"\n\t\t\t@touchmove.stop.prevent=\"imageTouchMove\"\n\t\t\t@touchend.stop.prevent=\"imageTouchEnd\"\n\t\t\t:src=\"image\"\n\t\t\tmode=\"widthFix\"\n\t\t\tv-if=\"image\"\n\t\t\t:style=\"imageStyle\"/>\n\t\t<canvas\n\t\t\tcanvas-id=\"l-clipper\"\n\t\t\tid=\"l-clipper\"\n\t\t\tdisable-scroll\n\t\t\t:style=\"'width: ' + (canvasWidth * scaleRatio) + 'px; height:' + (canvasHeight * scaleRatio) + 'px;'\"\n\t\t\tclass=\"l-clipper-canvas\"\n\t\t></canvas>\n\t\t<view class=\"l-clipper-tools\">\n\t\t\t<view class=\"l-clipper-tools__btns\">\n\t\t\t\t<view v-if=\"isShowCancelBtn\"  @tap=\"cancel\">\n\t\t\t\t\t<slot name=\"cancel\" v-if=\"$slots.cancel\" />\n\t\t\t\t\t<view v-else class=\"cancel\" >取消</view>\n\t\t\t\t</view>\n\t\t\t\t<view v-if=\"isShowPhotoBtn\" @tap=\"uploadImage\">\n\t\t\t\t\t<slot name=\"photo\" v-if=\"$slots.photo\" />\n\t\t\t\t\t<image v-else :src=\"require('./images/photo.svg')\"  />\n\t\t\t\t</view>\n\t\t\t\t<view v-if=\"isShowRotateBtn\" @tap=\"rotate\">\n\t\t\t\t\t<slot name=\"rotate\" v-if=\"$slots.rotate\" />\n\t\t\t\t\t<image v-else :src=\"require('./images/rotate.svg')\"  data-type=\"inverse\" />\n\t\t\t\t</view>\n\t\t\t\t<view v-if=\"isShowConfirmBtn\" @tap=\"confirm\">\n\t\t\t\t\t<slot name=\"confirm\" v-if=\"$slots.confirm\" />\n\t\t\t\t\t<view v-else class=\"confirm\" >确定</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<slot></slot>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nimport { pathToBase64, determineDirection, calcImageOffset, calcImageScale, calcImageSize, calcPythagoreanTheorem, clipTouchMoveOfCalculate, imageTouchMoveOfCalcOffset } from './utils';\nexport default {\n\t// version: '0.6.1',\n\tname: 'l-clipper',\n\tprops: {\n\t\tzIndex: {\n\t\t\ttype: Number,\n\t\t\tdefault: 99\n\t\t},\n\t\timageUrl: {\n\t\t\ttype: String\n\t\t},\n\t\tquality: {\n\t\t\ttype: Number,\n\t\t\tdefault: 1\n\t\t},\n\t\twidth: {\n\t\t\ttype: Number,\n\t\t\tdefault: 400\n\t\t},\n\t\theight: {\n\t\t\ttype: Number,\n\t\t\tdefault: 400\n\t\t},\n\t\tminWidth: {\n\t\t\ttype: Number,\n\t\t\tdefault: 200\n\t\t},\n\t\tmaxWidth: {\n\t\t\ttype: Number,\n\t\t\tdefault: 600\n\t\t},\n\t\tminHeight: {\n\t\t\ttype: Number,\n\t\t\tdefault: 200\n\t\t},\n\t\tmaxHeight: {\n\t\t\ttype: Number,\n\t\t\tdefault: 600\n\t\t},\n\t\tisLockWidth: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\tisLockHeight: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\tisLockRatio: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tscaleRatio: {\n\t\t\ttype: Number,\n\t\t\tdefault: 1\n\t\t},\n\t\tminRatio: {\n\t\t\ttype: Number,\n\t\t\tdefault: 0.5\n\t\t},\n\t\tmaxRatio: {\n\t\t\ttype: Number,\n\t\t\tdefault: 2\n\t\t},\n\t\tisDisableScale: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\tisDisableRotate: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\tisLimitMove: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\tisShowPhotoBtn: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tisShowRotateBtn: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tisShowConfirmBtn: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tisShowCancelBtn: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\trotateAngle: {\n\t\t\ttype: Number,\n\t\t\tdefault: 90\n\t\t},\n\t\tsource: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({\n\t\t\t\t\talbum: '从相册中选择',\n\t\t\t\t\tcamera: '拍照',\n\t\t\t\t\t// #ifdef MP-WEIXIN\n\t\t\t\t\tmessage: '从微信中选择'\n\t\t\t\t\t// #endif\n\t\t\t\t})\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcanvasWidth: 0,\n\t\t\tcanvasHeight: 0,\n\t\t\tcutX: 0, \n\t\t\tcutY: 0, \n\t\t\taWidth: this.width,\n\t\t\taHeight: this.height,\n\t\t\tclipWidth: 0,\n\t\t\tclipHeight: 0,\n\t\t\tcutAnimation: false,\n\t\t\timageWidth: 0, \n\t\t\timageHeight: 0,\n\t\t\timageTop: 0,\n\t\t\timageLeft: 0,\n\t\t\tscale: 1,\n\t\t\tangle: 0,\n\t\t\timage: this.imageUrl,\n\t\t\tsysinfo: {},\n\t\t\tmoveThrottleTimer: null,\n\t\t\tmoveThrottleFlag: true,\n\t\t\ttimeCutcenter: null,\n\t\t\tflagCutTouch: false,\n\t\t\tflagEndTouch: false,\n\t\t\tcutstart: {},\n\t\t\tcutAnimationTime: null,\n\t\t\ttouchRelative: [{x: 0,y: 0}],\n\t\t\thypotenuseLength: 0,\n\t\t\tctx: null\n\t\t};\n\t},\n\tcomputed: {\n\t\tclipStyle() {\n\t\t\tconst {clipWidth, clipHeight, cutY, cutX, cutAnimation} = this\n\t\t\treturn  `\n\t\t\twidth: ${clipWidth}px; \n\t\t\theight:${clipHeight}px; \n\t\t\ttransition-property: ${cutAnimation ? '' : 'background'};\n\t\t\tleft: ${cutX}px;\n\t\t\ttop: ${cutY}px\n\t\t\t`\n\t\t},\n\t\timageStyle() {\n\t\t\tconst {imageWidth, imageHeight, imageLeft, imageTop, cutAnimation, scale, angle} = this\n\t\t\treturn `\n\t\t\t\twidth:${imageWidth ? imageWidth + 'px' : 'auto'}; \n\t\t\t\theight: ${imageHeight ? imageHeight + 'px' : 'auto'}; \n\t\t\t\ttransform: translate3d(${imageLeft - imageWidth / 2}px, ${imageTop - imageHeight / 2}px, 0) scale(${scale}) rotate(${angle}deg); \n\t\t\t\ttransition-duration: ${cutAnimation ? 0.35 : 0}s\n\t\t\t`\n\t\t},\n\t\tclipSize() {\n\t\t\tconst { clipWidth, clipHeight } = this;\n\t\t\treturn { clipWidth, clipHeight };\n\t\t},\n\t\tcutPoint() {\n\t\t\tconst { cutY, cutX } = this;\n\t\t\treturn { cutY, cutX };\n\t\t}\n\t},\n\twatch: {\n\t\timage:{\n\t\t\thandler: async function(url) {\n\t\t\t\t this.getImageInfo(url)\n\t\t\t},\n\t\t\timmediate: true,\n\t\t},\n\t\tclipSize({ widthVal, heightVal }) {\n\t\t\tlet { minWidth, minHeight } = this;\n\t\t\tminWidth = minWidth / 2;\n\t\t\tminHeight = minHeight / 2;\n\t\t\tif (widthVal < minWidth) {\n\t\t\t\tthis.setDiffData({clipWidth: minWidth})\n\t\t\t}\n\t\t\tif (heightVal < minHeight) {\n\t\t\t\tthis.setDiffData({clipHeight: minHeight})\n\t\t\t}\n\t\t\tthis.computeCutSize();\n\t\t},\n\t\tangle(val) {\n\t\t\tthis.cutAnimation = true;\n\t\t\tthis.moveStop();\n\t\t\tconst { isLimitMove } = this;\n\t\t\tif (isLimitMove && val % 90) {\n\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\tangle:Math.round(val / 90) * 90 \r\n\t\t\t\t})\n\t\t\t}\n\t\t\tthis.imgMarginDetectionScale();\n\t\t},\n\t\tcutAnimation(val) {\n\t\t\tclearTimeout(this.cutAnimationTime);\n\t\t\tif (val) {\n\t\t\t\tlet cutAnimationTime = setTimeout(() => {\n\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\tcutAnimation: false\r\n\t\t\t\t\t})\n\t\t\t\t}, 260);\r\n\t\t\t\tthis.setDiffData({cutAnimationTime})\n\t\t\t\tthis.cutAnimationTime = cutAnimationTime;\n\t\t\t}\n\t\t},\n\t\tisLimitMove(val) {\n\t\t\tif (val) {\n\t\t\t\tif (this.angle % 90) {\r\n\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\tangle : Math.round(this.angle / 90) * 90\r\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tthis.imgMarginDetectionScale();\n\t\t\t}\n\t\t},\n\t\tcutPoint() {\n\t\t\tthis.cutDetectionPosition();\n\t\t},\n\t\taWidth(width, oWidth) {\n\t\t\tif (width !== oWidth) {\r\n\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\tclipWidth:  width / 2\r\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\taHeight(height, oHeight) {\n\t\t\tif (height !== oHeight) {\r\n\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\tclipHeight:  height / 2\r\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t},\n\tmounted() {\n\t\tconst sysinfo = uni.getSystemInfoSync();\n\t\tthis.sysinfo = sysinfo;\n\t\tthis.setCutInfo();\n\t\tthis.setCutCenter();\n\t\tthis.computeCutSize();\n\t\tthis.cutDetectionPosition();\n\t},\n\tmethods: {\r\n\t\tsetDiffData(data) {\r\n\t\t\tObject.keys(data).forEach(key => {\r\n\t\t\t  if (this[key] !== data[key]) {\r\n\t\t\t\tthis[key] = data[key];\r\n\t\t\t  }\r\n\t\t\t});\r\n\t\t},\n\t\tgetImageInfo(url) {\n\t\t\tif (!url) return;\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '请稍候...',\n\t\t\t\tmask: true\n\t\t\t});\n\t\t\tuni.getImageInfo({\n\t\t\t\tsrc: url,\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tthis.imgComputeSize(res.width, res.height);\n\t\t\t\t\tthis.image = res.path;\n\t\t\t\t\tif (this.isLimitMove) {\n\t\t\t\t\t\tthis.imgMarginDetectionScale();\n\t\t\t\t\t\tthis.$emit('ready', res);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: (err) => {\n\t\t\t\t\tthis.imgComputeSize();\n\t\t\t\t\tif (this.isLimitMove) {\n\t\t\t\t\t\tthis.imgMarginDetectionScale();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tsetCutInfo() {\n\t\t\tconst { aWidth, aHeight, sysinfo } = this;\n\t\t\tconst clipWidth = aWidth / 2;\n\t\t\tconst clipHeight = aHeight / 2;\n\t\t\tconst cutY = (sysinfo.windowHeight - clipHeight) / 2;\n\t\t\tconst cutX = (sysinfo.windowWidth - clipWidth) / 2;\n\t\t\tconst imageLeft = sysinfo.windowWidth / 2;\n\t\t\tconst imageTop = sysinfo.windowHeight / 2;\n\t\t\tthis.ctx = uni.createCanvasContext('l-clipper', this);\n\t\t\tthis.clipWidth = clipWidth;\n\t\t\tthis.clipHeight = clipHeight;\n\t\t\tthis.cutX = cutX;\n\t\t\tthis.cutY = cutY;\n\t\t\tthis.canvasHeight = clipHeight;\n\t\t\tthis.canvasWidth = clipWidth;\n\t\t\tthis.imageLeft = imageLeft;\n\t\t\tthis.imageTop = imageTop;\n\t\t},\n\t\tsetCutCenter() {\n\t\t\tconst { sysInfo, clipHeight, clipWidth, imageTop, imageLeft } = this;\n\t\t\tlet sys = sysInfo || uni.getSystemInfoSync();\n\t\t\tlet cutY = (sys.windowHeight - clipHeight) * 0.5;\n\t\t\tlet cutX = (sys.windowWidth - clipWidth) * 0.5;\n\t\t\tthis.imageTop = imageTop - this.cutY + cutY;\n\t\t\tthis.imageLeft = imageLeft - this.cutX + cutX;\n\t\t\tthis.cutY = cutY;\n\t\t\tthis.cutX = cutX;\n\t\t},\n\t\tcomputeCutSize() {\n\t\t\tconst { clipHeight, clipWidth, sysinfo, cutX, cutY } = this;\n\t\t\tif (clipWidth > sysinfo.windowWidth) {\n\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\tclipWidth:  sysinfo.windowWidth\r\n\t\t\t\t})\n\t\t\t} else if (clipWidth + cutX > sysinfo.windowWidth) {\n\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\tcutX: sysinfo.windowWidth - cutX\r\n\t\t\t\t})\n\t\t\t}\n\t\t\tif (clipHeight > sysinfo.windowHeight) {\n\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\tclipHeight: sysinfo.windowHeight\r\n\t\t\t\t})\n\t\t\t} else if (clipHeight + cutY > sysinfo.windowHeight) {\n\t\t\t\tthis.cutY = sysinfo.windowHeight - cutY;\r\n\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\tcutY: sysinfo.windowHeight - cutY\r\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tcutDetectionPosition() {\n\t\t\tconst { cutX, cutY, sysinfo, clipHeight, clipWidth } = this;\n\t\t\tlet cutDetectionPositionTop = () => {\n\t\t\t\t\tif (cutY < 0) {\n\t\t\t\t\t\tthis.setDiffData({cutY: 0})\n\t\t\t\t\t}\n\t\t\t\t\tif (cutY > sysinfo.windowHeight - clipHeight) {\n\t\t\t\t\t\tthis.setDiffData({cutY: sysinfo.windowHeight - clipHeight})\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcutDetectionPositionLeft = () => {\n\t\t\t\t\tif (cutX < 0) {\n\t\t\t\t\t\tthis.setDiffData({cutX: 0})\n\t\t\t\t\t}\n\t\t\t\t\tif (cutX > sysinfo.windowWidth - clipWidth) {\r\n\t\t\t\t\t\tthis.setDiffData({cutX: sysinfo.windowWidth - clipWidth})\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\tif (cutY === null && cutX === null) {\n\t\t\t\tlet newCutY = (sysinfo.windowHeight - clipHeight) * 0.5;\n\t\t\t\tlet newCutX = (sysinfo.windowWidth - clipWidth) * 0.5;\n\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\tcutX: newCutX,\r\n\t\t\t\t\tcutY: newCutY\r\n\t\t\t\t})\n\t\t\t} else if (cutY !== null && cutX !== null) {\n\t\t\t\tcutDetectionPositionTop();\n\t\t\t\tcutDetectionPositionLeft();\n\t\t\t} else if (cutY !== null && cutX === null) {\n\t\t\t\tcutDetectionPositionTop();\n\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\tcutX: (sysinfo.windowWidth - clipWidth) / 2\r\n\t\t\t\t})\n\t\t\t} else if (cutY === null && cutX !== null) {\n\t\t\t\tcutDetectionPositionLeft();\n\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\tcutY: (sysinfo.windowHeight - clipHeight) / 2\r\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\timgComputeSize(width, height) {\n\t\t\tconst { imageWidth, imageHeight } = calcImageSize(width, height, this);\n\t\t\tthis.imageWidth = imageWidth;\n\t\t\tthis.imageHeight = imageHeight;\n\t\t},\n\t\timgMarginDetectionScale(scale) {\n\t\t\tif (!this.isLimitMove) return;\n\t\t\tconst currentScale = calcImageScale(this, scale);\n\t\t\tthis.imgMarginDetectionPosition(currentScale);\n\t\t},\n\t\timgMarginDetectionPosition(scale) {\n\t\t\tif (!this.isLimitMove) return;\n\t\t\tconst { scale: currentScale, left, top } = calcImageOffset(this, scale);\r\n\t\t\tthis.setDiffData({\r\n\t\t\t\timageLeft: left,\r\n\t\t\t\timageTop: top,\r\n\t\t\t\tscale: currentScale\r\n\t\t\t})\n\t\t},\n\t\tmoveThrottle() {\r\n\t\t\tthis.setDiffData({\r\n\t\t\t\tmoveThrottleFlag: true\r\n\t\t\t})\n\t\t},\n\t\tmoveDuring() {\n\t\t\tclearTimeout(this.timeCutcenter);\n\t\t},\n\t\tmoveStop() {\n\t\t\tclearTimeout(this.timeCutcenter);\n\t\t\tconst timeCutcenter = setTimeout(() => {\n\t\t\t\tif (!this.cutAnimation) {\r\n\t\t\t\t\tthis.setDiffData({cutAnimation: true})\n\t\t\t\t}\n\t\t\t\tthis.setCutCenter();\n\t\t\t}, 800);\r\n\t\t\tthis.setDiffData({timeCutcenter})\n\t\t},\n\t\tclipTouchStart(event) {\n\t\t\t// #ifdef H5\n\t\t\tevent.preventDefault()\n\t\t\t// #endif\n\t\t\tif (!this.image) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请选择图片',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst currentX = event.touches[0].clientX;\n\t\t\tconst currentY = event.touches[0].clientY;\n\t\t\tconst { cutX, cutY, clipWidth, clipHeight } = this;\n\t\t\tconst corner = determineDirection(cutX, cutY, clipWidth, clipHeight, currentX, currentY);\n\t\t\tthis.moveDuring();\n\t\t\tif(!corner) {return}\n\t\t\tthis.cutstart = {\n\t\t\t\twidth: clipWidth,\n\t\t\t\theight: clipHeight,\n\t\t\t\tx: currentX,\n\t\t\t\ty: currentY,\n\t\t\t\tcutY,\n\t\t\t\tcutX,\n\t\t\t\tcorner\n\t\t\t};\n\t\t\tthis.flagCutTouch = true;\n\t\t\tthis.flagEndTouch = true;\n\t\t},\n\t\tclipTouchMove(event) {\n\t\t\t// #ifdef H5\n\t\t\tevent.stopPropagation()\n\t\t\tevent.preventDefault()\n\t\t\t// #endif\n\t\t\tif (!this.image) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请选择图片',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// 只针对单指点击做处理\n\t\t\tif (event.touches.length !== 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst { flagCutTouch, moveThrottleFlag } = this;\n\t\t\tif (flagCutTouch && moveThrottleFlag) {\n\t\t\t\tconst { isLockRatio, isLockHeight, isLockWidth } = this;\n\t\t\t\tif (isLockRatio && (isLockWidth || isLockHeight)) return;\r\n\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\tmoveThrottleFlag: false\r\n\t\t\t\t})\n\t\t\t\tthis.moveThrottle();\n\t\t\t\tconst clipData = clipTouchMoveOfCalculate(this, event);\n\t\t\t\tif(clipData) {\n\t\t\t\t\tconst { width, height, cutX, cutY } = clipData;\n\t\t\t\t\tif (!isLockWidth && !isLockHeight) {\r\n\t\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\t\tclipWidth: width,\r\n\t\t\t\t\t\t\tclipHeight: height,\r\n\t\t\t\t\t\t\tcutX,\r\n\t\t\t\t\t\t\tcutY\r\n\t\t\t\t\t\t})\n\t\t\t\t\t} else if (!isLockWidth) {\r\n\t\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\t\tclipWidth: width,\r\n\t\t\t\t\t\t\tcutX\r\n\t\t\t\t\t\t})\n\t\t\t\t\t} else if (!isLockHeight) {\r\n\t\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\t\tclipHeight: height,\r\n\t\t\t\t\t\t\tcutY\r\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tthis.imgMarginDetectionScale();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tclipTouchEnd() {\n\t\t\tthis.moveStop();\n\t\t\tthis.flagCutTouch = false;\n\t\t},\n\t\timageTouchStart(e) {\n\t\t\t// #ifdef H5\n\t\t\tevent.preventDefault()\n\t\t\t// #endif\n\t\t\tthis.flagEndTouch = false;\n\t\t\tconst { imageLeft, imageTop } = this;\n\t\t\tconst clientXForLeft = e.touches[0].clientX;\n\t\t\tconst clientYForLeft = e.touches[0].clientY;\n\n\t\t\tlet touchRelative = [];\n\t\t\tif (e.touches.length === 1) {\n\t\t\t\ttouchRelative[0] = {\n\t\t\t\t\tx: clientXForLeft - imageLeft,\n\t\t\t\t\ty: clientYForLeft - imageTop\n\t\t\t\t};\n\t\t\t\tthis.touchRelative = touchRelative;\n\t\t\t} else {\n\t\t\t\tconst clientXForRight = e.touches[1].clientX;\n\t\t\t\tconst clientYForRight = e.touches[1].clientY;\n\t\t\t\tlet width = Math.abs(clientXForLeft - clientXForRight);\n\t\t\t\tlet height = Math.abs(clientYForLeft - clientYForRight);\n\t\t\t\tconst hypotenuseLength = calcPythagoreanTheorem(width, height);\n\n\t\t\t\ttouchRelative = [\n\t\t\t\t\t{\n\t\t\t\t\t\tx: clientXForLeft - imageLeft,\n\t\t\t\t\t\ty: clientYForLeft - imageTop\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tx: clientXForRight - imageLeft,\n\t\t\t\t\t\ty: clientYForRight - imageTop\n\t\t\t\t\t}\n\t\t\t\t];\n\t\t\t\tthis.touchRelative = touchRelative;\n\t\t\t\tthis.hypotenuseLength = hypotenuseLength;\n\t\t\t}\n\t\t},\n\t\timageTouchMove(e) {\n\t\t\t// #ifdef H5\n\t\t\tevent.preventDefault()\n\t\t\t// #endif\n\t\t\tconst { flagEndTouch, moveThrottleFlag } = this;\n\t\t\tif (flagEndTouch || !moveThrottleFlag) return;\n\t\t\tconst clientXForLeft = e.touches[0].clientX;\n\t\t\tconst clientYForLeft = e.touches[0].clientY;\n\t\t\tthis.setDiffData({moveThrottleFlag: false})\n\t\t\tthis.moveThrottle();\n\t\t\tthis.moveDuring();\n\t\t\tif (e.touches.length === 1) {\n\t\t\t\tconst { left: imageLeft, top:  imageTop} = imageTouchMoveOfCalcOffset(this, clientXForLeft, clientYForLeft);\r\n\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\timageLeft,\r\n\t\t\t\t\timageTop\r\n\t\t\t\t})\n\t\t\t\tthis.imgMarginDetectionPosition();\n\t\t\t} else {\n\t\t\t\tconst clientXForRight = e.touches[1].clientX;\n\t\t\t\tconst clientYForRight = e.touches[1].clientY;\n\t\t\t\tlet width = Math.abs(clientXForLeft - clientXForRight),\n\t\t\t\t\theight = Math.abs(clientYForLeft - clientYForRight),\n\t\t\t\t\thypotenuse = calcPythagoreanTheorem(width, height), \n\t\t\t\t\tscale = this.scale * (hypotenuse / this.hypotenuseLength);\n\t\t\t\tif (this.isDisableScale) {\n\t\t\t\t\t\n\t\t\t\t\tscale = 1;\n\t\t\t\t} else {\n\t\t\t\t\tscale = scale <= this.minRatio ? this.minRatio : scale;\n\t\t\t\t\tscale = scale >= this.maxRatio ? this.maxRatio : scale;\n\t\t\t\t\tthis.$emit('change', {\n\t\t\t\t\t\twidth: this.imageWidth * scale,\n\t\t\t\t\t\theight: this.imageHeight * scale\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tthis.imgMarginDetectionScale(scale);\n\t\t\t\tthis.hypotenuseLength = Math.sqrt(Math.pow(width, 2) + Math.pow(height, 2));\n\t\t\t\tthis.scale = scale;\n\t\t\t}\n\t\t},\n\t\timageTouchEnd() {\r\n\t\t\tthis.setDiffData({\r\n\t\t\t\tflagEndTouch: true\r\n\t\t\t})\n\t\t\tthis.moveStop();\n\t\t},\n\t\tuploadImage() {\n\t\t\tconst itemList = Object.entries(this.source)\n\t\t\tconst sizeType = ['original', 'compressed']\n\t\t\tconst success = ({tempFilePaths:a, tempFiles: b}) => {\n\t\t\t\tthis.image = a ? a[0] : b[0].path\n\t\t\t};\n\t\t\tconst _uploadImage = (type) => {\n\t\t\t\tif(type !== 'message') {\n\t\t\t\t\tuni.chooseImage({\n\t\t\t\t\t\tcount: 1,\n\t\t\t\t\t\tsizeType,\n\t\t\t\t\t\tsourceType: [type],\n\t\t\t\t\t\tsuccess\n\t\t\t\t\t});\n\t\t\t\t} \n\t\t\t\t// #ifdef MP-WEIXIN\n\t\t\t\tif(type == 'message') {\n\t\t\t\t\twx.chooseMessageFile({\n\t\t\t\t\t  count: 1,\n\t\t\t\t\t  type: 'image',\n\t\t\t\t\t  success\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\t// #endif\n\t\t\t}\n\t\t\tif(itemList.length > 1) {\n\t\t\t\tuni.showActionSheet({\n\t\t\t\t\titemList: itemList.map(v => v[1]),\n\t\t\t\t\tsuccess: ({tapIndex: i}) => {\n\t\t\t\t\t\t_uploadImage(itemList[i][0])\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t_uploadImage(itemList[0][0])\t\n\t\t\t}\n\t\t},\n\t\timageReset() {\n\t\t\tconst sys = this.sysinfo || uni.getSystemInfoSync();\n\t\t\tthis.scale = 1;\n\t\t\tthis.angle = 0;\n\t\t\tthis.imageTop = sys.windowHeight / 2;\n\t\t\tthis.imageLeft = sys.windowWidth / 2;\n\t\t},\n\t\timageLoad(e) {\n\t\t\tthis.imageReset();\n\t\t\tuni.hideLoading();\n\t\t\tthis.$emit('ready', e.detail);\n\t\t},\n\t\trotate(event) {\n\t\t\tif (this.isDisableRotate) return;\n\t\t\tif (!this.image) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请选择图片',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst { rotateAngle } = this;\n\t\t\tconst originAngle = this.angle\n\t\t\tconst type = event.currentTarget.dataset.type;\n\t\t\tif (type === 'along') {\n\t\t\t\tthis.angle = originAngle + rotateAngle\n\t\t\t} else {\n\t\t\t\tthis.angle = originAngle - rotateAngle\n\t\t\t}\n\t\t\tthis.$emit('rotate', this.angle);\n\t\t},\n\t\tconfirm() {\n\t\t\tif (!this.image) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请选择图片',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '加载中'\n\t\t\t});\n\t\t\tconst { canvasHeight, canvasWidth, clipHeight, clipWidth, ctx, scale, imageLeft, imageTop, cutX, cutY, angle, scaleRatio: dpr, image, quality, type: imageType } = this;\n\t\t\tconst draw = () => {\n\t\t\t\tconst imageWidth = this.imageWidth * scale * dpr;\n\t\t\t\tconst imageHeight = this.imageHeight * scale * dpr;\n\t\t\t\tconst xpos = imageLeft - cutX;\n\t\t\t\tconst ypos = imageTop - cutY;\n\t\t\t\tctx.translate(xpos * dpr, ypos * dpr);\n\t\t\t\tctx.rotate((angle * Math.PI) / 180);\n\t\t\t\tctx.drawImage(image, -imageWidth / 2, -imageHeight / 2, imageWidth, imageHeight);\n\t\t\t\tctx.draw(false, () => {\n\t\t\t\t\tconst width = clipWidth * dpr\n\t\t\t\t\tconst height = clipHeight * dpr\n\t\t\t\t\tlet params = {\n\t\t\t\t\t\tx: 0,\n\t\t\t\t\t\ty: 0,\n\t\t\t\t\t\twidth,\n\t\t\t\t\t\theight,\n\t\t\t\t\t\tdestWidth: width,\n\t\t\t\t\t\tdestHeight: height,\n\t\t\t\t\t\tcanvasId: 'l-clipper',\n\t\t\t\t\t\tfileType: 'png',\n\t\t\t\t\t\tquality,\n\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\tdata.url = res.tempFilePath;\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\tthis.$emit('success', data);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: (error) => {\n\t\t\t\t\t\t\tconsole.error('error', error)\n\t\t\t\t\t\t\tthis.$emit('fail', error);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tlet data = {\n\t\t\t\t\t\turl: '',\n\t\t\t\t\t\twidth,\n\t\t\t\t\t\theight\n\t\t\t\t\t};\n\t\t\t\t\tuni.canvasToTempFilePath(params, this)\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tif (canvasWidth !== clipWidth || canvasHeight !== clipHeight) {\n\t\t\t\tthis.canvasWidth = clipWidth;\n\t\t\t\tthis.canvasHeight = clipHeight;\n\t\t\t\tctx.draw();\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tdraw();\n\t\t\t\t\t}, 100);\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tdraw();\n\t\t\t}\n\t\t},\n\t\tcancel() {\n\t\t\tthis.$emit('cancel', false)\n\t\t},\n\t}\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n@import './index'\n</style>\n","import mod from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-2!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-5!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=6fee203c&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-2!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-5!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=6fee203c&lang=stylus&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1615858253830\n      var cssReload = require(\"D:/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}